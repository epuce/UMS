{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"user-form\",\n  data: function data() {\n    var isRegisterForm = this.formType === \"register\";\n    var user = {\n      email: \"\",\n      password: \"\"\n    };\n\n    if (isRegisterForm) {\n      user.repeatPassword = \"\";\n    }\n\n    return {\n      user: user,\n      isRegisterForm: isRegisterForm\n    };\n  },\n  props: {\n    formType: {\n      type: String,\n      default: \"login\"\n    }\n  },\n  methods: {\n    saveForm: function saveForm() {\n      var _this = this;\n\n      if (this.isRegisterForm) {\n        axios.post(\"/api/user/save\", this.user);\n      } else {\n        axios.post(\"/api/user/login\", this.user).then(function () {\n          // TODO add response check\n          // if ((response.status = \"OK\")) {\n          _this.$router.push(\"/\"); // }\n\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AAEA;AACAA,mBADA;AAEAC;AACA;AACA;AACAC,eADA;AAEAC;AAFA;;AAKA;AACAC;AACA;;AAEA;AACAA,gBADA;AAEAC;AAFA;AAIA,GAjBA;AAkBAC;AACAC;AACAC,kBADA;AAEAC;AAFA;AADA,GAlBA;AAwBAC;AACAC;AAAA;;AACA;AACAC;AACA,OAFA,MAEA;AACAA;AACA;AACA;AACA,kCAHA,CAIA;;AACA,SALA;AAMA;AACA;AAZA;AAxBA","names":["name","data","email","password","user","isRegisterForm","props","formType","type","default","methods","saveForm","axios"],"sourceRoot":"src/components","sources":["UserForm.vue"],"sourcesContent":["<template>\n    <div class=\"user-form__wrapper\">\n        <form class=\"user-form\">\n            <label>\n                E-mail\n\n                <input v-model=\"user.email\" type=\"email\">\n            </label>\n\n            <label>\n                Password\n\n                <input v-model=\"user.password\" type=\"password\">\n            </label>\n\n            <label v-if=\"isRegisterForm\">\n                Repeat password\n\n                <input v-model=\"user.repeatPassword\" type=\"password\">\n            </label>\n\n            <div class=\"user-form__actions\">\n                <button type=\"button\" class=\"btn btn-primary\" @click=\"saveForm\">\n                    Save\n                </button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n    name: \"user-form\",\n    data: function () {\n        const isRegisterForm = this.formType === \"register\";\n        const user = {\n            email: \"\",\n            password: \"\",\n        };\n\n        if (isRegisterForm) {\n            user.repeatPassword = \"\";\n        }\n\n        return {\n            user,\n            isRegisterForm,\n        };\n    },\n    props: {\n        formType: {\n            type: String,\n            default: \"login\",\n        },\n    },\n    methods: {\n        saveForm: function () {\n            if (this.isRegisterForm) {\n                axios.post(\"/api/user/save\", this.user);\n            } else {\n                axios.post(\"/api/user/login\", this.user).then(() => {\n                    // TODO add response check\n                    // if ((response.status = \"OK\")) {\n                        this.$router.push(\"/\");\n                    // }\n                });\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.user-form {\n    &__actions {\n        text-align: center;\n    }\n\n    &__wrapper {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    label,\n    input {\n        display: block;\n    }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}