{"ast":null,"code":"import \"/home/epuce/Public/volvo_fans/web/node_modules/core-js/modules/es.array.iterator.js\";\nimport \"/home/epuce/Public/volvo_fans/web/node_modules/core-js/modules/es.promise.js\";\nimport \"/home/epuce/Public/volvo_fans/web/node_modules/core-js/modules/es.object.assign.js\";\nimport \"/home/epuce/Public/volvo_fans/web/node_modules/core-js/modules/es.promise.finally.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport Vue from 'vue';\nimport App from './App.vue';\nimport VueRouter from 'vue-router';\nimport { BootstrapVue } from 'bootstrap-vue';\nimport axios from \"axios\";\nimport VueI18n from 'vue-i18n';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport translations from './config/translations';\nimport routes from './config/routes';\nconsole.log(translations);\nVue.config.productionTip = false;\nVue.use(BootstrapVue);\nVue.use(VueI18n);\nVue.prototype.$axios = axios;\nvar resolvers = [];\nvar router = new VueRouter({\n  routes: routes,\n  mode: 'history'\n});\nVue.filter('uppercase', function (value) {\n  return value.toUpperCase();\n});\nvar i18n = new VueI18n({\n  locale: localStorage.language || 'lv',\n  fallbackLocale: 'eng',\n  messages: translations\n});\n\nfunction hasQueryParams(route) {\n  return !!Object.keys(route.query).length;\n}\n\nrouter.beforeEach(function (to, from, next) {\n  if (!hasQueryParams(to) && hasQueryParams(from)) {\n    next({\n      path: to.path,\n      query: from.query\n    });\n  } else {\n    next();\n  }\n});\nvar loadLanguages = axios.post(\"/api/language/list\").then(function (response) {\n  Vue.prototype.$languages = response.data.content;\n});\nresolvers.push(loadLanguages);\nPromise.all(resolvers).then(function () {\n  new Vue({\n    i18n: i18n,\n    router: router,\n    render: function render(h) {\n      return h(App);\n    }\n  }).$mount('#app');\n});","map":null,"metadata":{},"sourceType":"module"}