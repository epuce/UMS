{"ast":null,"code":"import Vue from 'vue';\nimport App from './App.vue';\nimport VueRouter from 'vue-router';\nimport { BootstrapVue } from 'bootstrap-vue';\nimport axios from \"axios\";\nimport VueI18n from 'vue-i18n';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport translations from './config/translations';\nimport routes from './config/routes.js';\nconsole.log(translations);\nVue.config.productionTip = false;\nVue.use(BootstrapVue);\nVue.use(VueI18n);\nVue.prototype.$axios = axios;\nconst resolvers = [];\nconst router = new VueRouter({\n  routes,\n  mode: 'history'\n});\nVue.filter('uppercase', function (value) {\n  return value.toUpperCase();\n});\nconst i18n = new VueI18n({\n  locale: localStorage.language || 'lv',\n  fallbackLocale: 'eng',\n  messages: translations\n});\n\nfunction hasQueryParams(route) {\n  return !!Object.keys(route.query).length;\n}\n\nrouter.beforeEach((to, from, next) => {\n  if (!hasQueryParams(to) && hasQueryParams(from)) {\n    next({\n      path: to.path,\n      query: from.query\n    });\n  } else {\n    next();\n  }\n});\nconst loadLanguages = axios.post(\"/api/language/list\").then(response => {\n  Vue.prototype.$languages = response.data.content;\n});\nresolvers.push(loadLanguages);\nPromise.all(resolvers).then(() => {\n  new Vue({\n    i18n,\n    router,\n    render: h => h(App)\n  }).$mount('#app');\n});","map":{"version":3,"sources":["/home/epuce/Public/UMS/web/src/main.js"],"names":["Vue","App","VueRouter","BootstrapVue","axios","VueI18n","translations","routes","console","log","config","productionTip","use","prototype","$axios","resolvers","router","mode","filter","value","toUpperCase","i18n","locale","localStorage","language","fallbackLocale","messages","hasQueryParams","route","Object","keys","query","length","beforeEach","to","from","next","path","loadLanguages","post","then","response","$languages","data","content","push","Promise","all","render","h","$mount"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,YAAT,QAA6B,eAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,OAAO,kCAAP;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AAEAC,OAAO,CAACC,GAAR,CAAYH,YAAZ;AAEAN,GAAG,CAACU,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAX,GAAG,CAACY,GAAJ,CAAQT,YAAR;AACAH,GAAG,CAACY,GAAJ,CAAQP,OAAR;AACAL,GAAG,CAACa,SAAJ,CAAcC,MAAd,GAAuBV,KAAvB;AAEA,MAAMW,SAAS,GAAG,EAAlB;AACA,MAAMC,MAAM,GAAG,IAAId,SAAJ,CAAc;AAC3BK,EAAAA,MAD2B;AAE3BU,EAAAA,IAAI,EAAE;AAFqB,CAAd,CAAf;AAKAjB,GAAG,CAACkB,MAAJ,CAAW,WAAX,EAAwB,UAAUC,KAAV,EAAiB;AACvC,SAAOA,KAAK,CAACC,WAAN,EAAP;AACD,CAFD;AAIA,MAAMC,IAAI,GAAG,IAAIhB,OAAJ,CAAY;AACvBiB,EAAAA,MAAM,EAAEC,YAAY,CAACC,QAAb,IAAyB,IADV;AAEvBC,EAAAA,cAAc,EAAE,KAFO;AAGvBC,EAAAA,QAAQ,EAAEpB;AAHa,CAAZ,CAAb;;AAMA,SAASqB,cAAT,CAAwBC,KAAxB,EAA+B;AAC7B,SAAO,CAAC,CAACC,MAAM,CAACC,IAAP,CAAYF,KAAK,CAACG,KAAlB,EAAyBC,MAAlC;AACD;;AAEDhB,MAAM,CAACiB,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;AACpC,MAAI,CAACT,cAAc,CAACO,EAAD,CAAf,IAAuBP,cAAc,CAACQ,IAAD,CAAzC,EAAiD;AAC/CC,IAAAA,IAAI,CAAC;AAAEC,MAAAA,IAAI,EAAEH,EAAE,CAACG,IAAX;AAAiBN,MAAAA,KAAK,EAAEI,IAAI,CAACJ;AAA7B,KAAD,CAAJ;AACD,GAFD,MAEO;AACLK,IAAAA,IAAI;AACL;AACF,CAND;AAQA,MAAME,aAAa,GAAGlC,KAAK,CAACmC,IAAN,CAAW,oBAAX,EAAiCC,IAAjC,CAAuCC,QAAD,IAAc;AACxEzC,EAAAA,GAAG,CAACa,SAAJ,CAAc6B,UAAd,GAA2BD,QAAQ,CAACE,IAAT,CAAcC,OAAzC;AACD,CAFqB,CAAtB;AAIA7B,SAAS,CAAC8B,IAAV,CAAeP,aAAf;AAEAQ,OAAO,CAACC,GAAR,CAAYhC,SAAZ,EAAuByB,IAAvB,CAA4B,MAAM;AAChC,MAAIxC,GAAJ,CAAQ;AACNqB,IAAAA,IADM;AAENL,IAAAA,MAFM;AAGNgC,IAAAA,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAAChD,GAAD;AAHR,GAAR,EAIGiD,MAJH,CAIU,MAJV;AAKD,CAND","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport VueRouter from 'vue-router'\nimport { BootstrapVue } from 'bootstrap-vue'\nimport axios from \"axios\";\nimport VueI18n from 'vue-i18n';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport translations from './config/translations'\nimport routes from './config/routes.js'\n\nconsole.log(translations)\n\nVue.config.productionTip = false\nVue.use(BootstrapVue);\nVue.use(VueI18n);\nVue.prototype.$axios = axios\n\nconst resolvers = [];\nconst router = new VueRouter({\n  routes,\n  mode: 'history',\n})\n\nVue.filter('uppercase', function (value) {\n  return value.toUpperCase()\n})\n\nconst i18n = new VueI18n({\n  locale: localStorage.language || 'lv',\n  fallbackLocale: 'eng',\n  messages: translations,\n});\n\nfunction hasQueryParams(route) {\n  return !!Object.keys(route.query).length\n}\n\nrouter.beforeEach((to, from, next) => {\n  if (!hasQueryParams(to) && hasQueryParams(from)) {\n    next({ path: to.path, query: from.query });\n  } else {\n    next()\n  }\n})\n\nconst loadLanguages = axios.post(\"/api/language/list\").then((response) => {\n  Vue.prototype.$languages = response.data.content;\n});\n\nresolvers.push(loadLanguages);\n\nPromise.all(resolvers).then(() => {\n  new Vue({\n    i18n,\n    router,\n    render: h => h(App),\n  }).$mount('#app')\n})\n"]},"metadata":{},"sourceType":"module"}