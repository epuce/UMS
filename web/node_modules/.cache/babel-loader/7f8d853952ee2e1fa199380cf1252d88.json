{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"page-lang-vars\",\n  data: function data() {\n    return {\n      langVars: [],\n      langVar: {\n        name: \"\",\n        id: null,\n        lv_translation: \"\",\n        ru_translation: \"\",\n        eng_translation: \"\"\n      }\n    };\n  },\n  created: function created() {\n    this.loadLangVars();\n  },\n  methods: {\n    loadLangVars: function loadLangVars() {\n      var _this = this;\n\n      this.$axios.get(\"/api/lang-var/list\").then(function (response) {\n        console.log(response);\n        _this.langVars = response.data.content;\n      });\n    },\n    saveLangVar: function saveLangVar() {\n      this.$axios.post(\"/api/lang-var/save\", this.langVar).then(function () {\n        location.reload();\n      });\n    },\n    editLangVar: function editLangVar(id) {\n      var _this2 = this;\n\n      this.$axios.get(\"/api/lang-var/get/\".concat(id)).then(function (response) {\n        var data = response.data.content;\n        _this2.langVar.id = data.id;\n        _this2.langVar[\"\".concat(data.language, \"_translation\")] = data.text;\n        _this2.langVar.name = data.name;\n      });\n    },\n    deleteLangVar: function deleteLangVar(id) {\n      this.$axios.get(\"/api/lang-var/delete/\".concat(id)).then(function () {// location.reload();\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACAA,wBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,kBADA;AAEAC;AACAH,gBADA;AAEAI,gBAFA;AAGAC,0BAHA;AAIAC,0BAJA;AAKAC;AALA;AAFA;AAUA,GAbA;AAcAC,SAdA,qBAcA;AACA;AACA,GAhBA;AAiBAC;AACAC,gBADA,0BACA;AAAA;;AACA;AACAC;AACA;AACA,OAHA;AAIA,KANA;AAOAC,eAPA,yBAOA;AACA;AACAC;AACA,OAFA;AAGA,KAXA;AAYAC,eAZA,uBAYAV,EAZA,EAYA;AAAA;;AACA;AACA;AAEA;AACA;AACA;AACA,OANA;AAOA,KApBA;AAqBAW,iBArBA,yBAqBAX,EArBA,EAqBA;AACA,4EACA;AACA,OAFA;AAGA;AAzBA;AAjBA","names":["name","data","langVars","langVar","id","lv_translation","ru_translation","eng_translation","created","methods","loadLangVars","console","saveLangVar","location","editLangVar","deleteLangVar"],"sourceRoot":"src/pages","sources":["LangVars.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"langVar-form__wrapper\">\n            <form class=\"langVar-form\">\n                <label>\n                    {{ $t(\"lang_var_name\") }}\n\n                    <input v-model=\"langVar.name\" v-bind:disavled=\"langVar.id\"/>\n                </label>\n\n                <label v-if=\"!langVar.id || (langVar.id && langVar.lv_translation)\">\n                    {{ $t(\"lang_var_lv_translation\") }}\n\n                    <textarea v-model=\"langVar.lv_translation\"> </textarea>\n                </label>\n\n                <label v-if=\"!langVar.id || (langVar.id && langVar.ru_translation)\">\n                    {{ $t(\"lang_var_ru_translation\") }}\n\n                    <textarea v-model=\"langVar.ru_translation\"> </textarea>\n                </label>\n\n                <label v-if=\"!langVar.id || (langVar.id && langVar.eng_translation)\">\n                    {{ $t(\"lang_var_eng_translation\") }}\n\n                    <textarea v-model=\"langVar.eng_translation\"> </textarea>\n                </label>\n\n                <div class=\"langVar-form__actions\">\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-primary\"\n                        @click=\"saveLangVar()\"\n                    >\n                        {{ $t(\"save\") }}\n                    </button>\n                </div>\n            </form>\n        </div>\n\n        <table>\n            <tr v-for=\"(langVar, index) in langVars\" :key=\"index\">\n                <td>\n                    {{ langVar.name }}\n                </td>\n                <td>\n                    <div>\n                        <strong>{{langVar.language | uppercase}}:</strong>\n\n                        <span>{{ langVar.text }}</span>\n                    </div>\n                </td>\n                <td>\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-primary\"\n                        @click=\"editLangVar(langVar.id)\"\n                    >\n                        {{ $t(\"edit\") }}\n                    </button>\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-danger\"\n                        @click=\"deleteLangVar(langVar.id)\"\n                    >\n                        {{ $t(\"delete\") }}\n                    </button>\n                </td>\n            </tr>\n        </table>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"page-lang-vars\",\n    data() {\n        return {\n            langVars: [],\n            langVar: {\n                name: \"\",\n                id: null,\n                lv_translation: \"\",\n                ru_translation: \"\",\n                eng_translation: \"\",\n            },\n        };\n    },\n    created() {\n        this.loadLangVars();\n    },\n    methods: {\n        loadLangVars() {\n            this.$axios.get(\"/api/lang-var/list\").then((response) => {\n                console.log(response);\n                this.langVars = response.data.content;\n            });\n        },\n        saveLangVar() {\n            this.$axios.post(\"/api/lang-var/save\", this.langVar).then(() => {\n                location.reload();\n            });\n        },\n        editLangVar(id) {\n            this.$axios.get(`/api/lang-var/get/${id}`).then((response) => {\n                const data = response.data.content;\n\n                this.langVar.id = data.id;\n                this.langVar[`${data.language}_translation`] = data.text;\n                this.langVar.name = data.name;\n            });\n        },\n        deleteLangVar(id) {\n            this.$axios.get(`/api/lang-var/delete/${id}`).then(() => {\n                // location.reload();\n            });\n        }\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.langVar-form {\n    &__actions {\n        text-align: center;\n    }\n\n    &__wrapper {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    label,\n    input {\n        display: block;\n    }\n\n    textarea {\n        display: block;\n        resize: none;\n    }\n}\n</style>"]},"metadata":{},"sourceType":"module"}